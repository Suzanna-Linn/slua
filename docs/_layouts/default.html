<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ page.title }}</title>

  <link href="/slua/assets/theme-day.css" rel="stylesheet" id="theme-day" />
  <link href="/slua/assets/theme-night.css" rel="stylesheet" id="theme-night" />

  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.css" rel="stylesheet" />

  <link href="/slua/assets/style.css" rel="stylesheet" />
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      {% include sidebar.html %}
    </aside>
    
    <main class="content">
      <article>
        {{ content }}
      </article>
    </main>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

  <script src="/slua/assets/language-slua.js"></script>
  <script src="/slua/assets/language-lsl.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>

  <script>
  (function() {
      const dayTheme = document.getElementById('theme-day');
      const nightTheme = document.getElementById('theme-night');
      const button = document.createElement('button');
      function applyTheme(theme) {
          if (theme === 'night') {
              dayTheme.disabled = true;
              nightTheme.disabled = false;
              button.textContent  = 'ðŸŒž Day mode';
          } else {
              dayTheme.disabled = false;
              nightTheme.disabled = true;
              button.textContent  = 'ðŸŒ™ Night mode';
          }
      }
      applyTheme(localStorage.getItem('slua-lsl-theme') || 'day');
      Prism.plugins.toolbar.registerButton('theme-switch', function(env) {
          button.addEventListener('click', function () {
              const newTheme = dayTheme.disabled ? 'day' : 'night'
              applyTheme(newTheme);
              localStorage.setItem('slua-lsl-theme', newTheme);
          });
          button.className = 'toolbar-item';
          return button;
      });
  })();
  </script>
</body>
</html>
